# 사전과제

아티클 3개 읽기.

https://d2.naver.com/helloworld/0923884
https://yeoulcoding.me/298
https://blog.mathpresso.com/%ED%8C%80%EC%9B%8C%ED%81%AC-%ED%96%A5%EC%83%81%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%AA%A8%EB%85%B8%EB%A0%88%ED%8F%AC-monorepo-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95-3ae1b0112f1b

특히 인상깊은건 콴다팀의 "레이드 문화".<br>
게임에서 여럿이 왕을 같이 깨는 개념.

개발에서 발생한 문제나 오래묵은 레거시 시스템, 누구나 하면 좋다고 생각하지만 어떻게 시작해야할지 감이 안오는 문서화같은 것들을 의견이 같은 동료끼리 결성해 뿌시는 문화라는데 정말 재밌어 보인다. _ \_ _!!

#### "레이드의 가장 중요한 가치는 팀원들과 어려운 문제를 함께 해결하고 있다는 감각을 준다는 것입니다. "

대간지...😳

얼마전 참가한 컨퍼런스에서도 MSA나 monorepo 기술이 중요한 게 아니다. 좋은 구조와 조직 구조에 대해 계속해서 생각하고 개선해 나가는게 중요하다는 말씀을 들었는데 콴다의 문화가 되게 좋은 것 같고 재밌어 보인다.

<br>

<img src ="../../image/repo.png" width="1075" alt="repo"/>

## 1. 모노레포의 등장

모노레포란 버전 관리 시스템에서 두 개 이상의 프로젝트 코드가 동일한 저장소에 저장되는 소프트웨어 개발 전략.

고전적 소프트웨어 개발 방식인 `모놀리식 애플리케이션(monolithic application)`의 한계를 극복하기위해 나타남.

네이버와 같은 거대 서비스를 개발할 때, 소스 코드가 모듈화 없이 하나의 프로젝트로 구성된다면 어떻게 될까? <br>
코드가 서로 직접적으로 의존하며 단 하나의 버전으로 관리되면서 `관심 분리(separation of concerns)`가 어려워지고, 설계, 리팩터링, 배포 등의 작업을 매번 거대한 단위로 처리해야 하므로 개발상 많은 제약과 비효율이 있을 것이다.

이러한 모놀리식 구조의 한계는 `모듈화(modularity)`를 통해 해결할 수 있다. 애플리케이션 로직의 일부를 `재사용`할 수 있도록 지원하고 전체 교체 없이 애플리케이션의 일부를 수정 또는 교체할 수 있게 해 유지 관리를 용이하게 한다.

<br>

## 멀티레포

만든 모듈을 다른 어플리케이션에도 사용될 수 있다면 소스를 어디에 위치시켜야 할까. 아마 해당 모듈을 독자적인 저장소에 관리하면 더 쉬울 것. -> 멀티레포다.

멀티레포 구조는 폴리레포(polyrepo) 구조라고도 부른다.

현재 대부분의 애플리케이션을 개발하는 표준적인 방법이다. 업계는 팀의 자율성이라는 큰 이유 때문에 이 방식을 선호한다.

하지만 양날의 검처럼 자율성은 고립에 의해 제공되고 고립은 협업을 방해한다.

<br>

## 멀티레포의 문제

- 번거로운 프로젝트 생성
- 패키지의 중복 코드 가능성
- 관리 포인트 증가
- 일관성 없는 개발자 경험
- 다른 패키지의 변경 사항 파악
- 교차 저장소의 리팩터링 비용

그렇다면 모듈을 적절히 분리하여 관심 분리를 이루면서, 동시에 분리된 모듈을 쉽게 참조하고 테스트, 빌드, 배포 과정도 쉽게 한 번에 할 수는 없을까?

-> 모노레포이다.

<br>

## 모노레포

프로젝트 간의 관계가 중요하다.

단순히 여러 프로젝트가 하나의 저장소를 사용한다고 해서 모노레포 구조라고 부르기에는 부족하다. 흔히 모노레포에서는 프로젝트 사이에 의존성이 존재하거나 같은 제품군이거나 하는 정의된 관계가 존재한다.

#### 모노레포가 해결하는 멀티레포의 문제

- 더 쉬운 프로젝트 생성
- 더 쉬운 의존성 관리
- 단일화된 관리 포인트
- 일관된 개발자 경험 제공
- 프로젝트들에 걸친 원자적 커밋
- 서로 의존하는 저장소들의 리팩터링 비용 감소
- 테스트 및 빌드 범위 최소화

<br>

## 모노레포가 멀티레포보다 항상 나은 방법인가?

그렇지 않다. 장단점이 교차하기 때문에 적절한 상황에서 사용해야 한다.

모노레포의 핵심적 특징은 프로젝트 사이의 관계이고, 모노레포가 적절한 상황은 다음과 같다.

- 유사한 제품의 집합
- 여러 프로젝트의 변화를 한눈에 파악해야 할 때
- 호스트 애플리케이션을 플러그인 등으로 확장할 때
- 공통 기능을 재사용하는 관련된 프로젝트의 집합
- 유사한 DevOps로 구성된 프로젝트의 집합

모노레포를 구축하려고 할 때 `관리 용이성, 속도 그리고 프로젝트 구조 관리 측면`을 고려해야한다.

<br>
